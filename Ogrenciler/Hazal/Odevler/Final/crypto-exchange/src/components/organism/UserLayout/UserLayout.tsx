"use client"

import './UserLayout.scss'
import Icon from '@/components/atoms/Icons/Icon'
import Title from '@/components/atoms/Title/Title'
import Paragraph from '@/components/atoms/Paragraph/Paragraph'
import Link from 'next/link'
import { usePathname } from 'next/navigation'
import { useTranslations } from 'next-intl'
import { useAuthStore } from '@/stores/authStore'

const UserLayout = () => {
    const pathname = usePathname()
    const splittedPath = pathname?.split("/")
    const purePath = splittedPath?.[splittedPath?.length - 1]
    const userTranslate = useTranslations("User")
    const translate = userTranslate.raw("layout")
    const { user } = useAuthStore()

    return (
        <div className="user-layout">
            <div className='user-image-layout d-flex justify-content-center'>
                <div className='circle-image rounded-circle'>
                    <Icon collection='ci' color='white' name='CiCamera' className='change-profile-icon' />
                </div>
            </div>
            <div className="user-infos text-center">
                <div className='d-flex justify-content-center flex-column align-items-center'>
                    <Title as='h5' className='fs-5 fw-bold title'>
                        {user?.displayName}
                    </Title>
                    <Paragraph className='description'>
                        {user?.email}
                    </Paragraph>
                </div>
                <ul className='user-panel-list'>
                    <li className='user-panel-item'>
                        <Link href="/user" className={`${purePath?.toString() === 'user' ? 'active' : ''} mb-3 rounded-pill text-decoration-none gap-2 user-panel-link`}>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="#3772ff" xmlns="http://www.w3.org/2000/svg">
                                <path stroke="#3772ff" fill="#3772ff" d="M12.2766 12.854C12.2994 12.854 12.3221 12.854 12.3495 12.854C12.3586 12.854 12.3677 12.854 12.3768 12.854C12.3905 12.854 12.4087 12.854 12.4224 12.854C13.7572 12.8312 14.8369 12.362 15.6342 11.4645C17.3881 9.48733 17.0966 6.09787 17.0647 5.77441C16.9508 3.3462 15.8027 2.18449 14.8551 1.64236C14.149 1.2369 13.3244 1.01822 12.4041 1H12.3723C12.3677 1 12.3586 1 12.354 1H12.3267C11.821 1 10.8279 1.082 9.87571 1.62414C8.91901 2.16627 7.75274 3.32798 7.63885 5.77441C7.60696 6.09787 7.31539 9.48733 9.06935 11.4645C9.86205 12.362 10.9418 12.8312 12.2766 12.854ZM8.85523 5.8883C8.85523 5.87464 8.85978 5.86097 8.85978 5.85186C9.01012 2.5854 11.329 2.2346 12.3221 2.2346H12.3404C12.3495 2.2346 12.3631 2.2346 12.3768 2.2346C13.6069 2.26194 15.6979 2.76307 15.8392 5.85186C15.8392 5.86552 15.8392 5.87919 15.8437 5.8883C15.8483 5.92019 16.1672 9.01809 14.7185 10.649C14.1444 11.296 13.3791 11.6149 12.3723 11.624C12.3631 11.624 12.3586 11.624 12.3495 11.624C12.3404 11.624 12.3358 11.624 12.3267 11.624C11.3244 11.6149 10.5545 11.296 9.98505 10.649C8.54088 9.02721 8.85067 5.91564 8.85523 5.8883Z" strokeWidth="0.4" />
                                <path stroke="#3772ff" fill="#3772ff" d="M21.7116 18.4778C21.7116 18.4733 21.7116 18.4687 21.7116 18.4642C21.7116 18.4277 21.7071 18.3913 21.7071 18.3503C21.6797 17.4482 21.6205 15.3389 19.6433 14.6647C19.6297 14.6601 19.6114 14.6556 19.5978 14.651C17.5431 14.1271 15.8347 12.9426 15.8165 12.9289C15.5386 12.733 15.1559 12.8014 14.96 13.0793C14.7641 13.3572 14.8325 13.7399 15.1104 13.9358C15.1878 13.9904 17.001 15.2524 19.2697 15.8355C20.3312 16.2136 20.4497 17.348 20.4816 18.3867C20.4816 18.4277 20.4816 18.4642 20.4861 18.5006C20.4907 18.9106 20.4633 19.5439 20.3905 19.9083C19.6524 20.3274 16.7595 21.7762 12.3587 21.7762C7.9761 21.7762 5.06499 20.3229 4.3224 19.9038C4.24951 19.5393 4.21762 18.9061 4.22673 18.496C4.22673 18.4596 4.23129 18.4232 4.23129 18.3822C4.26318 17.3434 4.38163 16.2091 5.44311 15.8309C7.71186 15.2478 9.52504 13.9813 9.60249 13.9312C9.88039 13.7353 9.94873 13.3526 9.75283 13.0747C9.55693 12.7968 9.17425 12.7285 8.89635 12.9244C8.87813 12.9381 7.17884 14.1225 5.1151 14.6464C5.09688 14.651 5.08321 14.6556 5.06954 14.6601C3.09235 15.3389 3.03313 17.4482 3.0058 18.3457C3.0058 18.3867 3.0058 18.4232 3.00124 18.4596C3.00124 18.4642 3.00124 18.4687 3.00124 18.4733C2.99668 18.7102 2.99213 19.9265 3.23358 20.537C3.27914 20.6555 3.36114 20.7557 3.47048 20.824C3.60715 20.9151 6.88272 23.0017 12.3633 23.0017C17.8438 23.0017 21.1194 20.9106 21.256 20.824C21.3608 20.7557 21.4474 20.6555 21.4929 20.537C21.7207 19.9311 21.7162 18.7147 21.7116 18.4778Z" strokeWidth="0.4" />
                            </svg>
                            {translate.userProfile}
                        </Link>
                    </li>
                    <li className='user-panel-item'>
                        <a href="#" className='mb-3 rounded-pill text-decoration-none gap-2 user-panel-link'>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M17.9999 15.0005C17.3708 15.002 16.7509 15.1522 16.191 15.439C15.631 15.7257 15.1468 16.1409 14.7779 16.6505L9.76289 13.3075C10.0789 12.4648 10.0789 11.5362 9.76289 10.6935L14.7779 7.3505C15.3408 8.11364 16.1574 8.65103 17.0809 8.86613C18.0045 9.08123 18.9745 8.95995 19.8166 8.52406C20.6588 8.08817 21.3179 7.36626 21.6756 6.48802C22.0332 5.60979 22.066 4.63279 21.7679 3.73257C21.4699 2.83235 20.8606 2.06791 20.0496 1.5766C19.2385 1.08528 18.2788 0.899296 17.3429 1.05206C16.407 1.20482 15.5563 1.68631 14.9435 2.41002C14.3308 3.13374 13.9962 4.05224 13.9999 5.0005C14.0064 5.14622 14.0211 5.29145 14.0439 5.4355L8.65289 9.0295C8.07837 8.51159 7.36602 8.17137 6.6021 8.05003C5.83818 7.92869 5.05546 8.03144 4.34874 8.34584C3.64202 8.66024 3.04162 9.17281 2.62025 9.82145C2.19888 10.4701 1.97461 11.227 1.97461 12.0005C1.97461 12.774 2.19888 13.5309 2.62025 14.1796C3.04162 14.8282 3.64202 15.3408 4.34874 15.6552C5.05546 15.9696 5.83818 16.0723 6.6021 15.951C7.36602 15.8296 8.07837 15.4894 8.65289 14.9715L14.0439 18.5655C14.0211 18.7096 14.0064 18.8548 13.9999 19.0005C13.9999 19.7916 14.2345 20.565 14.674 21.2228C15.1135 21.8806 15.7383 22.3933 16.4692 22.696C17.2001 22.9988 18.0043 23.078 18.7803 22.9236C19.5562 22.7693 20.2689 22.3883 20.8283 21.8289C21.3877 21.2695 21.7687 20.5568 21.923 19.7809C22.0774 19.0049 21.9982 18.2007 21.6954 17.4698C21.3927 16.7389 20.88 16.1142 20.2222 15.6746C19.5644 15.2351 18.791 15.0005 17.9999 15.0005ZM17.9999 3.0005C18.3955 3.0005 18.7821 3.1178 19.111 3.33756C19.4399 3.55733 19.6963 3.86969 19.8477 4.23514C19.999 4.60059 20.0386 5.00272 19.9615 5.39068C19.8843 5.77865 19.6938 6.13501 19.4141 6.41472C19.1344 6.69442 18.778 6.8849 18.3901 6.96207C18.0021 7.03925 17.6 6.99964 17.2345 6.84826C16.8691 6.69689 16.5567 6.44054 16.337 6.11164C16.1172 5.78275 15.9999 5.39607 15.9999 5.0005C15.9999 4.47007 16.2106 3.96136 16.5857 3.58629C16.9608 3.21122 17.4695 3.0005 17.9999 3.0005ZM5.99989 14.0005C5.60432 14.0005 5.21764 13.8832 4.88875 13.6634C4.55985 13.4437 4.3035 13.1313 4.15213 12.7659C4.00075 12.4004 3.96114 11.9983 4.03832 11.6103C4.11549 11.2224 4.30597 10.866 4.58567 10.5863C4.86538 10.3066 5.22174 10.1161 5.60971 10.0389C5.99767 9.96176 6.3998 10.0014 6.76525 10.1527C7.13071 10.3041 7.44306 10.5605 7.66283 10.8894C7.88259 11.2183 7.99989 11.6049 7.99989 12.0005C7.99989 12.5309 7.78917 13.0396 7.4141 13.4147C7.03903 13.7898 6.53032 14.0005 5.99989 14.0005ZM17.9999 21.0005C17.6043 21.0005 17.2177 20.8832 16.8888 20.6634C16.5599 20.4437 16.3035 20.1313 16.1521 19.7659C16.0008 19.4004 15.9612 18.9983 16.0383 18.6103C16.1155 18.2224 16.306 17.866 16.5857 17.5863C16.8654 17.3066 17.2218 17.1161 17.6097 17.0389C17.9977 16.9618 18.3998 17.0014 18.7653 17.1527C19.1307 17.3041 19.4431 17.5605 19.6628 17.8894C19.8826 18.2183 19.9999 18.6049 19.9999 19.0005C19.9999 19.5309 19.7892 20.0396 19.4141 20.4147C19.039 20.7898 18.5303 21.0005 17.9999 21.0005Z" fill="#3772FF" />
                            </svg>
                            {translate.referrals}
                        </a>
                    </li>
                    <li className='user-panel-item'>
                        <a href="#" className='mb-3 rounded-pill text-decoration-none gap-2 user-panel-link'>

                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g clipPath="url(#clip0_2680_16566)">
                                    <path d="M22.7031 12C22.7031 11.0752 22.5852 10.1602 22.3522 9.27366L23.7069 8.27705L21.0776 3.72291L19.5348 4.39884C18.2158 3.08925 16.6007 2.15602 14.815 1.67166L14.6293 0H9.37059L9.18487 1.67166C7.39912 2.15602 5.78404 3.08925 4.46508 4.39884L2.92233 3.72291L0.292969 8.27705L1.64766 9.27366C1.41469 10.1602 1.29684 11.0752 1.29684 12C1.29684 12.9248 1.41473 13.8397 1.64766 14.7263L0.292969 15.7229L2.92233 20.277L4.46508 19.6011C5.78409 20.9108 7.39917 21.844 9.18487 22.3283L9.37059 24H14.6293L14.815 22.3283C16.6008 21.844 18.2159 20.9107 19.5348 19.6011L21.0776 20.277L23.7069 15.7229L22.3522 14.7263C22.5852 13.8397 22.7031 12.9248 22.7031 12ZM14.0184 21.0765L13.5271 21.1853L13.3706 22.5938H10.6293L10.4728 21.1853L9.98146 21.0765C8.1187 20.6643 6.44794 19.6989 5.14987 18.2849L4.81003 17.9147L3.51084 18.4839L2.14017 16.1098L3.28041 15.271L3.12966 14.7916C2.84662 13.8913 2.70309 12.952 2.70309 12C2.70309 11.0479 2.84662 10.1087 3.12966 9.20841L3.28041 8.72897L2.14017 7.89019L3.51084 5.51611L4.81003 6.08531L5.14987 5.71509C6.44794 4.30106 8.1187 3.33572 9.98146 2.92345L10.4728 2.8147L10.6293 1.40625H13.3706L13.5271 2.8147L14.0184 2.92345C15.8812 3.33577 17.552 4.30111 18.85 5.71509L19.1899 6.08531L20.4891 5.51611L21.8597 7.89019L20.7195 8.72897L20.8702 9.20841C21.1533 10.1087 21.2968 11.048 21.2968 12C21.2968 12.952 21.1533 13.8913 20.8702 14.7916L20.7195 15.271L21.8597 16.1098L20.4891 18.4839L19.1899 17.9147L18.85 18.2849C17.552 19.6989 15.8812 20.6643 14.0184 21.0765Z" fill="#3772FF" stroke="#3772FF" strokeWidth="0.5" />
                                    <path d="M9.20919 10.3902L8.20452 9.40625L5.63281 12.0321L8.25875 14.6038L9.24266 13.5991L7.62144 12.0114L9.20919 10.3902Z" fill="#3772FF" stroke="#3772FF" strokeWidth="0.5" />
                                    <path d="M14.7913 10.3902L16.379 12.0114L14.7578 13.5991L15.7417 14.6038L18.3677 12.0321L15.796 9.40625L14.7913 10.3902Z" fill="#3772FF" stroke="#3772FF" strokeWidth="0.5" />
                                    <path d="M10.3164 16.6016L12.3163 7.09721L13.6931 7.3869L11.6932 16.8913L10.3164 16.6016Z" fill="#3772FF" stroke="#3772FF" strokeWidth="0.5" />
                                </g>
                                <defs>
                                    <clipPath id="clip0_2680_16566">
                                        <rect width="24" height="24" fill="white" />
                                    </clipPath>
                                </defs>
                            </svg>
                            {translate.api_keys}
                        </a>
                    </li>
                    <li className='user-panel-item'>
                        <a href="#" className='mb-3 rounded-pill text-decoration-none gap-2 user-panel-link'>

                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12.5703 7.42969V13.1439L17.4617 16.0468L18.2846 14.6582L14.2846 12.2868V7.42969H12.5703Z" fill="#3772FF" />
                                <path d="M13.7085 1.71484C8.02285 1.71484 3.42857 6.32054 3.42857 12.0006H0L4.45141 16.452L4.53139 16.6177L9.14287 12.0006H5.7143C5.7143 7.58344 9.29716 4.00058 13.7143 4.00058C18.1314 4.00058 21.7143 7.58344 21.7143 12.0006C21.7143 16.4177 18.1314 20.0005 13.7143 20.0005C11.5029 20.0005 9.50855 19.0977 8.06287 17.652L6.44571 19.2691C8.30287 21.132 10.8686 22.2863 13.7085 22.2863C19.3943 22.2863 24 17.6806 24 12.0006C24 6.32054 19.3943 1.71484 13.7085 1.71484Z" fill="#3772FF" />
                            </svg>
                            {translate.loginHistory}
                        </a>
                    </li>
                    <li className='user-panel-item'>
                        <a href="#" className='mb-3 rounded-pill text-decoration-none gap-2 user-panel-link'>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M4.20008 2H0.600074C0.268726 2 0 2.26873 0 2.60007V6.20008C0 6.53142 0.268726 6.80015 0.600074 6.80015C0.931421 6.80015 1.19993 6.53142 1.19993 6.20008V3.20015H4.20008C4.53142 3.20015 4.79993 2.93142 4.79993 2.60007C4.79993 2.26873 4.53142 2 4.20008 2Z" fill="#3772FF" />
                                <path d="M4.20008 19.9984H1.19993V16.9985C1.19993 16.6672 0.931421 16.3984 0.600074 16.3984C0.268726 16.3984 0 16.6672 0 16.9985V20.5985C0 20.9299 0.268726 21.1986 0.600074 21.1986H4.20008C4.53142 21.1986 4.79993 20.9299 4.79993 20.5985C4.79993 20.2672 4.53142 19.9984 4.20008 19.9984Z" fill="#3772FF" />
                                <path d="M23.3993 2H19.7993C19.4679 2 19.1992 2.26873 19.1992 2.60007C19.1992 2.93142 19.4679 3.20015 19.7993 3.20015H22.7992V6.20008C22.7992 6.53142 23.0679 6.80015 23.3993 6.80015C23.7306 6.80015 23.9994 6.53142 23.9994 6.20008V2.60007C23.9994 2.26873 23.7306 2 23.3993 2Z" fill="#3772FF" />
                                <path d="M23.3993 16.3984C23.0679 16.3984 22.7992 16.6672 22.7992 16.9985V19.9984H19.7993C19.4679 19.9984 19.1992 20.2672 19.1992 20.5985C19.1992 20.9299 19.4679 21.1986 19.7993 21.1986H23.3993C23.7306 21.1986 23.9994 20.9299 23.9994 20.5985V16.9985C23.9994 16.6672 23.7306 16.3984 23.3993 16.3984Z" fill="#3772FF" />
                                <path d="M3.64988 5.60156H4.95012C5.3091 5.60156 5.6 5.87029 5.6 6.20164V17.0016C5.6 17.333 5.3091 17.6017 4.95012 17.6017H3.64988C3.2909 17.6017 3 17.333 3 17.0016V6.20164C3 5.87029 3.2909 5.60156 3.64988 5.60156Z" fill="#3772FF" />
                                <path d="M7.89909 5.60156C7.51249 5.60156 7.19922 5.87029 7.19922 6.20164V17.0016C7.19922 17.333 7.51249 17.6017 7.89909 17.6017C8.28569 17.6017 8.59922 17.333 8.59922 17.0016V6.20164C8.59922 5.87029 8.28569 5.60156 7.89909 5.60156Z" fill="#3772FF" />
                                <path d="M11.1501 5.60156H12.4499C12.8089 5.60156 13.1 5.87029 13.1 6.20164V17.0016C13.1 17.333 12.8089 17.6017 12.4499 17.6017H11.1501C10.7911 17.6017 10.5 17.333 10.5 17.0016V6.20164C10.5 5.87029 10.7911 5.60156 11.1501 5.60156Z" fill="#3772FF" />
                                <path d="M15.5008 5.60156C15.1143 5.60156 14.8008 5.87029 14.8008 6.20164V17.0016C14.8008 17.333 15.1143 17.6017 15.5008 17.6017C15.8873 17.6017 16.2008 17.333 16.2008 17.0016V6.20164C16.2008 5.87029 15.8873 5.60156 15.5008 5.60156Z" fill="#3772FF" />
                                <path d="M18.6501 5.60156H19.9499C20.3089 5.60156 20.6 5.87029 20.6 6.20164V17.0016C20.6 17.333 20.3089 17.6017 19.9499 17.6017H18.6501C18.2911 17.6017 18 17.333 18 17.0016V6.20164C18 5.87029 18.2911 5.60156 18.6501 5.60156Z" fill="#3772FF" />
                            </svg>
                            {translate.fa2}
                        </a>
                    </li>
                    <li className='user-panel-item'>
                        <Link href="/user/change-password" className={`${purePath?.toString() === 'change-password' ? 'active' : ''} mb-3 rounded-pill text-decoration-none gap-2 user-panel-link`}>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M19 8.00002V7.00003C19 3.141 15.86 0 12 0C8.13997 0 5 3.141 5 6.99998V7.99997C3.34602 7.99997 2 9.34598 2 11V21C2 22.654 3.34602 24 5 24H19C20.654 24 22 22.654 22 21V11C22 9.34598 20.654 8.00002 19 8.00002ZM6.99997 6.99998C6.99997 4.24298 9.24299 1.99997 12 1.99997C14.757 1.99997 17 4.24298 17 6.99998V7.99997H6.99997V6.99998ZM20 21C20 21.552 19.551 22 19 22H5C4.44899 22 4.00002 21.552 4.00002 21V11C4.00002 10.448 4.44903 10 5 10H19C19.551 10 20 10.448 20 11V21Z" fill="#3772FF" />
                                <path d="M12 11.5C10.346 11.5 9 12.846 9 14.5C9 15.802 9.83902 16.902 11 17.316V19C11 19.553 11.448 20 12 20C12.552 20 13 19.553 13 19V17.316C14.161 16.902 15 15.802 15 14.5C15 12.846 13.654 11.5 12 11.5ZM12 15.5C11.449 15.5 11 15.052 11 14.5C11 13.948 11.449 13.5 12 13.5C12.551 13.5 13 13.948 13 14.5C13 15.052 12.551 15.5 12 15.5Z" fill="#3772FF" />
                            </svg>
                            {translate.changePassword}
                        </Link>
                    </li>
                </ul>
            </div>
        </div>
    )
}

export default UserLayout